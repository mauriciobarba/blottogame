This is part of my solution to a Jane Street puzzle.
